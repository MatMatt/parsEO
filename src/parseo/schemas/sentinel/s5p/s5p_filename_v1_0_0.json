{
    "$schema":  "https://json-schema.org/draft/2020-12/schema",
    "title":  "Sentinel-5P filename",
    "type":  "object",
    "properties":  {
                       "name":  {
                                    "type":  "string"
                                }
                   },
    "required":  [
                     "name"
                 ],
    "x-parseo":  {
                     "version":  "1.0.0",
                     "parse_regex":  "^(?P\u003csatellite\u003eS5P)(?P\u003cplatform\u003eP)_(?P\u003cinstrument\u003eTROPOMI)_(?P\u003cprocessing_level\u003eL1B|L2)_(?P\u003cproduct_type\u003e[A-Z0-9_]{2,12})_(?P\u003csensing_datetime\u003e\\d{8}T\\d{6})\\.(?P\u003cextension\u003e[A-Za-z0-9]+)$",
                     "template":  "{satellite}{platform}_{instrument}_{processing_level}_{product_type}_{sensing_datetime}.{extension}",
                     "requirements":  {
                                          "satellite":  {
                                                            "$ref":  "fields.json#/$defs/satellite"
                                                        },
                                          "platform":  {
                                                           "$ref":  "fields.json#/$defs/platform"
                                                       },
                                          "instrument":  {
                                                             "$ref":  "fields.json#/$defs/instrument"
                                                         },
                                          "processing_level":  {
                                                                   "$ref":  "fields.json#/$defs/processing_level"
                                                               },
                                          "product_type":  {
                                                               "$ref":  "fields.json#/$defs/product_type"
                                                           },
                                          "sensing_datetime":  {
                                                                   "$ref":  "fields.json#/$defs/sensing_datetime"
                                                               },
                                          "extension":  {
                                                            "$ref":  "fields.json#/$defs/extension"
                                                        }
                                      },
                     "build_transforms":  {
                                              "processing_level":  [
                                                                       "upper"
                                                                   ],
                                              "product_type":  [
                                                                   "upper"
                                                               ],
                                              "sensing_datetime":  [
                                                                       "datetime:%Y%m%dT%H%M%S"
                                                                   ],
                                              "extension":  [
                                                                "lower"
                                                            ]
                                          },
                     "parse_transforms":  {
                                              "extension":  [
                                                                "lower"
                                                            ]
                                          },
                     "fields":  {
                                    "satellite":  {

                                                  },
                                    "platform":  {

                                                 },
                                    "instrument":  {

                                                   },
                                    "processing_level":  {

                                                         },
                                    "product_type":  {

                                                     },
                                    "sensing_datetime":  {

                                                         },
                                    "extension":  {

                                                  }
                                },
                     "map_to_canonical":  {
                                              "mission":  "{satellite}{platform}",
                                              "instrument":  "{instrument}",
                                              "level":  "{processing_level}",
                                              "product_type":  "{product_type}",
                                              "acq_datetime":  "{sensing_datetime}",
                                              "extension":  "{extension}"
                                          },
                     "map_from_canonical":  {
                                                "satellite":  "{mission[:-1]}",
                                                "platform":  "{mission[-1:]}",
                                                "instrument":  "{instrument}",
                                                "processing_level":  "{level}",
                                                "product_type":  "{product_type}",
                                                "sensing_datetime":  "{acq_datetime}",
                                                "extension":  "{extension}"
                                            },
                     "valid_example":  "S5PP_TROPOMI_L2_NO2_20250105T103021.nc"
                 }
}
